{% extends "layoutDetalle.htm" %}
{% block title %}Alumnos {% endblock %}
{% block head %}
  {{ super() }}
  <style type="text/css">
    .important { color: #336699; }
  </style>
{% endblock %}
{% block body %}

      <div class="container">
        <div class="row">
           
 
          
            
            <div class="container">
            <h1 >Detalle de Alumno</h1></div>
             <ul  class="nav nav-tabs">
                 <li class="nav-item"><a class="nav-link" href="#General">General</a></li>
                <li class="nav-item"><a class="nav-link" href="#Estudios">Estudio</a></li>
                <li class="nav-item"><a class="nav-link" href="#Experiencia">Experiencia</a></li>
            </ul>
             
            <form method="POST" action="">

            <div class="tab-content clearfix">
              <div class="nav-link" id="General">
                <div class="col-md-12">
                  <h4 style="margin: 0 0 20px 0">Datos del Alumno</h4>

                    {% if actionSelect != "agregar"  %} 
                      <input type="hidden" name="form-id" class="form-control" id="form-id" value="{{alumnoSelect.Alumno.alum_id}}" >
                    {%endif%}
                    
                    <div class="form-group">
                      <label for="form-dni">Documento de Identidad</label>
                      <input type="number" class="form-control" name="form-dni-hidden" value="{{alumnoSelect.Alumno.alum_dni}}" placeholder="Ingrese su DNI"  disabled >
                      <input type="hidden" name="form-dni" value="{{alumnoSelect.Alumno.alum_dni}}">

                    </div>

                    <div class="form-group">
                      <label for="form-nombre">Nombre</label>
                      <input type="text" class="form-control" name="form-nombre" value="{{alumnoSelect.Alumno.alum_nombre}}" placeholder="Ingrese su Nombre" {% if actionSelect == 'detalle' %} disabled {%else%} required {%endif%}>
                    </div>

                    <div class="form-group">
                      <label for="form-apellido">Apellido</label>
                      <input type="text" class="form-control" name="form-apellido" value="{{alumnoSelect.Alumno.alum_apellido}}" placeholder="Ingrese su Apellido" {% if actionSelect == 'detalle' %} disabled {%else%} required {%endif%}>
                    </div>

                    <div class="form-group">
                      <label for="form-email">Email</label>
                      <input type="email" class="form-control" name="form-email" value="{{alumnoSelect.Alumno.alum_email}}" placeholder="Ingrese su Email" {% if actionSelect == 'detalle' %} disabled {%else%} required {%endif%}>
                    </div>


                    <div class="form-group">
                      <label for="form-fecha-nac">Fecha de nacimiento</label>
                      <input type="date" class="form-control" name="form-fecha-nac" value="{{alumnoSelect.Alumno.alum_fecha_nacimiento}}" placeholder="Ingrese la fecha de nacimiento dd/mm/yyyy" {% if actionSelect == 'detalle' %} disabled {%else%} required {%endif%}>
                    </div>

                    <div class="form-group">
                      <label for="form-nacionalidad" >Nacionalidad</label>
                            <select class="form-control" id="form-nacionalidad" name="form-nacionalidad" {% if actionSelect == 'detalle' %} disabled {% endif %}>
                            {% for option in paisList %}
                            <option value="{{ option.pais_id }}"{% if loop.first %} SELECTED{% endif %}>{{ option.pais_nacionalidad }}</option>
                            {% endfor %}
                          </select>
                    </div>

                    <div class="form-group">
                      <label for="form-telefono">Telefono</label>
                      <input type="number" class="form-control" name="form-telefono" value="{{alumnoSelect.Alumno.alum_telefono}}" placeholder="Ingrese su telefono" {% if actionSelect == 'detalle' %} disabled {%else%} required {%endif%}>
                    </div>

                    <div class="form-group">
                      <label for="form-residencia">Lugar de residencia</label>              
                      <select class="form-control" id="form-residencia" name="form-residencia" {% if actionSelect == 'detalle' %} disabled {% endif %}> 
                          {% for option in ciudadList %}
                          <option value="{{ option.ciud_id }}"{% if loop.first %} SELECTED{% endif %}>{{ option.ciud_nombre }}</option>
                          {% endfor %}
                        </select>
                      
                      </div>

                    <!--<div class="form-group">
                        <label for="form-otro">¿Cual Otro lugar de residencia?</label>
                        <input type="text" class="form-control" name="form-otro" value="{{alumnoSelect.Alumno.alum_otro}}" placeholder="Ingrese otro lugar de residencia" {% if actionSelect == 'detalle' %} disabled {%else%} required {%endif%}>
                      </div>
                    -->

                      <div class="form-group">
                          <label for="form-nodo">Nodo</label>                     
                          <select class="form-control" id="form-nodo" name="form-nodo" {% if actionSelect == 'detalle' %} disabled {% endif %}>
                            {% for option in nodoList %}
                            <option value="{{ option.nodo_id }}"{% if loop.first %} SELECTED{% endif %}>{{ option.nodo_nombre }}</option>
                            {% endfor %}
                          </select>
                      </div>


                </div><!--"col-md-12"-->
              </div>  <!-- tab General-->


          
              <div class="nav-link" id="Estudios">
                <!-- formulario 2-->
                <div class="col-md-12">
                  <h4 style="margin: 0 0 20px 0">Estudios y Expectativas</h4>

                    <div class="form-group">
                      <label for="form-dispositivo">¿Dispone de computadora o laptop para el curso?</label>
                      <select class="form-control" id="form-dispositivo" name="form-dispositivo" {% if actionSelect == 'detalle' %} disabled {% endif %}>  
                          <option value="1">Si</option>
                          <option value="0" selected>No</option>
                        </select>
                    </div>

                    <div class="form-group">
                      <label for="form-nivel-educacion" >¿Cual es su nivel de educación?</label>          
                      <select class="form-control" id="form-nivel-educacion" name="form-nivel-educacion" {% if actionSelect == 'detalle' %} disabled {% endif %}>
                        {% for option in nivelList %}
                        <option value="{{ option.nive_id }}"{% if loop.first %} SELECTED{% endif %}>{{ option.nive_nombre }}</option>
                        {% endfor %}
                      </select>
                    </div>
                    
                    <div class="form-group">
                      <label for="form-estudia">¿Estudia Actualmente?</label>                 
                      <select class="form-control" id="form-estudia" name="form-estudia" {% if actionSelect == 'detalle' %} disabled {% endif %}>
                            <option value="1">Si</option>
                            <option value="0" selected>No</option>
                          </select>
                    </div>

                    <div class="form-group">
                        <label for="form-nahual">¿Donde se enteró de Nahual?</label>
                        <select class="form-control" id="form-nahual" name="form-nahual" {% if actionSelect == 'detalle' %} disabled {% endif %}>
                            <option value="0" selected></option>
                            <option value="1">Facebook</option>
                            <option value="2">Amigo</option>
                            <option value="3">Otro</option>
                        </select>
                    </div>

                    <div class="form-group" id="form-motivacion">
                      <label for="form-motivacion">¿Cuales son sus Expectativas y/o Motivaciones?</label>
                      <textarea rows="3" cols="80" class="form-control" name="form-motivacion" {% if actionSelect == 'detalle' %} disabled {%else%} required {%endif%}>{{alumnoSelect.Alumno_Experiencia.alex_motivacion}}</textarea>
      
                    </div>
      
                    <div class="form-group" valign="center">
                      <label for="form-nahual">¿Como intervendrias en Nahual?</label>
                      <textarea rows="3" cols="80" class="form-control" name="form-intervencion" {% if actionSelect == 'detalle' %} disabled {%else%} required {%endif%}>{{alumnoSelect.Alumno_Experiencia.alex_intervencion}}</textarea>
      
                    </div>
                    
                    <div class="form-group">
                      <label for="form-afectacion">¿Como te afectaría la intervención de Nahual?</label>
                      <textarea rows="3" cols="80" class="form-control" name="form-afectacion" {% if actionSelect == 'detalle' %} disabled {%else%} required {%endif%}>{{alumnoSelect.Alumno_Experiencia.alex_afectacion}}</textarea>
                    </div>

              
                  </div> <!--col-md-12"-->
              </div> <!-- tab Estudios-->

              <div class="nav-link" id="Experiencia">
        
                <div class="col-md-12">
                  <h4 style="margin: 0 0 20px 0">Experiencia Laboral</h4>

                    <!-- formulario 3-->


                    <div class="form-group">
                      <label for="form-trabajo">¿Trabajas Actualmente?</label>                
                      <select class="form-control" id="form-trabajo" name="form-trabajo" {% if actionSelect == 'detalle' %} disabled {% endif %}>
                        <option value="1">Si</option>
                        <option value="0" selected>No</option>
                      </select>
                    </div>

                    
                    <div class="form-group">
                      <label for="form-trabajo-lugar">¿Donde trabaja actualmente?</label>
                      <input type="text" class="form-control" name="form-trabajo-lugar" value="{{alumnoSelect.Alumno_Experiencia.alex_trabajo_lugar}}" placeholder="Ingrese la empresa donde trabajo actualmente" {% if actionSelect == 'detalle' %} disabled  {%endif%}>
                    </div>


                    <div class="form-group">
                      <label for="form-sistemas-exp">¿Posee experiencia en sistemas?</label>             
                      <select class="form-control" id="form-sistemas-exp" name="form-sistemas-exp" {% if actionSelect == 'detalle' %} disabled {% endif %}> 
                          <option value="1">Si</option>
                          <option value="0" selected>No</option>
                        </select>
                    </div>

                  

                    <div class="form-group">
                      <label for="form-sistemas-lugar">¿Donde fue experiencia en sistemas?</label>
                      <input type="text" class="form-control" name="form-sistemas-lugar" value="{{alumnoSelect.Alumno_Experiencia.alex_sistemas_lugar}}" placeholder="Ingrese donde trabajó anteriormente" {% if actionSelect == 'detalle' %} disabled   {%endif%}>
                    </div>

                    <div class="form-group">
                      <label for="form-sistemas">¿Trabajas actualmente en sistemas?</label>
                      <select class="form-control" id="form-sistemas" name="form-sistemas" {% if actionSelect == 'detalle' %} disabled {% endif %}>
                        <option value="1">Si</option>
                        <option value="0" selected>No</option>
                      </select>
                    </div>


                    
                    <div class="form-group">
                      <label for="form-fecha-alta">Datos del Sistema</label>
                      <div>
                        <table class="table table-sm">
                          <tr>
                            <td><input type="text" class="form-control" name="form-fecha_alta" value="Fecha de Alta: {{alumnoSelect.Alumno.alum_fecha_alta}}" disabled></td>
                            <td><input type="text" class="form-control" name="form-estado" value="Estado Alumno: {{alumnoSelect.Alumno.alum_estado}}" disabled></td>
                          </tr>
                          <tr>
                            <td><input type="text" class="form-control" name="form-fecha-modif" value="Fecha de Modificación: {{alumnoSelect.Alumno.alum_fecha_modif}}"  disabled></td>
                            <td><input type="text" class="form-control" name="form-usuario_modif" value="Usuario de Modificación: {{alumnoSelect.Alumno.alum_usuario_modif}}" disabled></td>
                          </tr>        
                        </table>
                      </div>
                    </div>

                </div> <!--"col-md-12"-->
              </div> <!-- tab Experiencia-->
            </div> <!--tab-content clearfix"-->


                <!--Hacer funcion para renderizar template y almacenar la info del form-->  
                <div class="form-group" align="center">
                  {%if actionSelect == 'detalle'%}    
                    <button type="button" onclick="window.close()" name="action" value="cancelar" class="btn btn-primary">Cerrar</button>
                  {%else%}
                    <button type="button" onclick="if (confirm('¿Cancela las modificaciones realizadas?')) window.close();" name="action" value="cancelar" class="btn btn-primary">Cerrar</button>
                    <button type="submit" name="action" value="guardar" onclick="fnConfirmar()" class="btn btn-success">Guardar</button>
                  {%endif%}
                </div>
 
          </form>

        </div><!--row-->
      </div> <!--container-->

   
    </div>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/moment.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

<script type="text/javascript">

$(function() {
  $('#form-fecha-nacimiento').datepicker({dateFormat: 'dd/mm/yy', changeMonth: true, changeYear: true, yearRange: '-100:+0'});
});

jQuery(document).ready(function($){
        {% if alumnoSelect.Alumno.alum_nacionalidad %}
          $(document.querySelector("#form-nacionalidad")).find('option[value={{alumnoSelect.Alumno.alum_nacionalidad}}]').attr('selected','selected');
        {% endif %}

        {% if alumnoSelect.Alumno.alum_ciud_residencia_id %}
          $(document.querySelector("#form-residencia")).find('option[value={{alumnoSelect.Alumno.alum_ciud_residencia_id}}]').attr('selected','selected');
        {% endif %}

        {% if alumnoSelect.Alumno.alum_nodo_id %}
          $(document.querySelector("#form-nodo")).find('option[value={{alumnoSelect.Alumno.alum_nodo_id}}]').attr('selected','selected');
        {% endif %}

        {% if alumnoSelect.Alumno_Experiencia.alex_trabajo %}
          $(document.querySelector("#form-trabajo")).find('option[value={{alumnoSelect.Alumno_Experiencia.alex_trabajo}}]').attr('selected','selected');
        {% endif %}

        {% if alumnoSelect.Alumno.alum_dispositivo %}
          $(document.querySelector("#form-dispositivo")).find('option[value={{alumnoSelect.Alumno.alum_dispositivo}}]').attr('selected','selected');
        {% endif %}    

        {% if alumnoSelect.Alumno_Experiencia.alex_sistemas_exp %}
          $(document.querySelector("#form-sistemas-exp")).find('option[value={{alumnoSelect.Alumno_Experiencia.alex_sistemas_exp}}]').attr('selected','selected');
        {% endif %}     

        {% if alumnoSelect.Alumno_Experiencia.alex_sistemas_exp %}
          $(document.querySelector("#form-sistemas")).find('option[value={{alumnoSelect.Alumno_Experiencia.alex_sistemas}}]').attr('selected','selected');
        {% endif %}     

        {% if alumnoSelect.Alumno_Estudio.ales_nivel_educacion_id %}
          $(document.querySelector("#form-nivel-educacion")).find('option[value={{alumnoSelect.Alumno_Estudio.ales_nivel_educacion_id}}]').attr('selected','selected');
        {% endif %}     

        {% if alumnoSelect.Alumno_Estudio.ales_estudia %}
          $(document.querySelector("#form-estudia")).find('option[value={{alumnoSelect.Alumno_Estudio.ales_estudia}}]').attr('selected','selected');
        {% endif %}     

      
        {% if alumnoSelect.Alumno_Estudio.ales_nahual %}
          $(document.querySelector("#form-nahual")).find('option[value={{alumnoSelect.Alumno_Estudio.ales_nahual}}]').attr('selected','selected');
        {% endif %}     
  
});

function fnCancelar(form){

  var cancela = confirm("¿Seguro que desea cancelar?")
  if (cancela) {
    window.location.href='/AdministrarAlumnos';        
    return false; 
    } else {
        return false;
    } 
  }
  function fnConfirmar(form){
  
  var acepta = confirm("¿Confirma las modificaciones?")
  if (acepta) {
    form.submit();
     return true; 
    } else {
        return false;
    } 
  }

</script>   
{% endblock %}
